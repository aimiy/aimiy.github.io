---
layout: post
title:  函数式编程
date:   2021-05-07 20:00:00 +0800
categories: 笔记
tag: 函数式编程
---
* content
{:toc}

## 对比

>面向对象编程
把现实中的事物抽象成程序世界中的类和对象。通过封装，继承，和多态来演示事物间的联系

>函数式编程
把现实世界事物间的联系抽象到程序世界（对运算过程进行抽象）。
输入-输出
y=f(x)，函数式编程用来描述数据之间的映射

## 函数作为参数

模拟foreach

```js
function forEach(array,fn){
    for(let i =0;i<array.length;i++){
        fn(array[i])
    }
}
let arr = [1,2,3]
forEach(arr,function(item){
    console.log(item)
})
```

模拟filter

```js
function filter(array,fn){
    let results = [];
    for(let i =0;i<array.length;i++){
        if(fn(array[i])){
            results.push(array[i])
        }
    }
    return results
}
let arr = [1,2,3]
filter(arr,function(item){
    return item >1
})
```

函数帮助把内部的实现细节给跳过了

## 函数作为返回值

模拟once
让一个函数只执行一次

```js
function once(fn){
    let done = false
    return function(){
        if(!done){
            done = true
            return fn.apply(this,arguments)
        }
    }
}
let pay = once(function(money){
console.log(`${money}RMB`)
})
pay(5)
pay(5)
pay(5)
pay(5)
```
